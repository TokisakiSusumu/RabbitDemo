@page "/"

<PageTitle>Home</PageTitle>

<h1>Blazor Auth Demo</h1>

<p>Sliding session with ASP.NET Identity API + Microsoft sign-in.</p>

<div class="card mt-3" style="max-width:500px;">
    <div class="card-body">
        <h5>Quick Start</h5>
        <ol>
            <li><a href="Account/Register">Register</a> an account (or use Microsoft sign-in)</li>
            <li><a href="Account/Login">Login</a> with your credentials</li>
            <li>Open <a href="token-test">Session Test</a> to watch the token lifecycle</li>
        </ol>
        <p class="text-muted mb-0">
            <small>When your session expires and you try to interact, you'll be redirected to login.</small>
        </p>
    </div>
</div>

<AuthorizeView>
    <Authorized>
        <div class="alert alert-success mt-3" style="max-width:500px;">
            Logged in as <strong>@context.User.Identity?.Name</strong>
            ¡ª <a href="token-test">Go to Session Test ¡ú</a>
        </div>
    </Authorized>
    <NotAuthorized>
        <div class="alert alert-warning mt-3" style="max-width:500px;">
            Not logged in. <a href="Account/Login">Login</a> or <a href="Account/Register">Register</a>.
        </div>
    </NotAuthorized>
</AuthorizeView>
